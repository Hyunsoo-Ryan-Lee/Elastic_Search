/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:true,get:getter})}};__webpack_require__.r=function(exports){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(exports,"__esModule",{value:true})};__webpack_require__.t=function(value,mode){if(mode&1)value=__webpack_require__(value);if(mode&8)return value;if(mode&4&&typeof value==="object"&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,"default",{enumerable:true,value:value});if(mode&2&&typeof value!="string")for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";return __webpack_require__(__webpack_require__.s=9)})([function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/uiActions/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/embeddable/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/uiActionsEnhanced/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports){module.exports=__kbnSharedDeps__.React},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getFlattenedObject=exports.unset=exports.getUrlOrigin=exports.modifyUrl=exports.isRelativeUrl=exports.withTimeout=exports.pick=exports.merge=exports.mapToObject=exports.get=exports.deepFreeze=exports.assertNever=void 0;const tslib_1=__webpack_require__(11);var assert_never_1=__webpack_require__(12);Object.defineProperty(exports,"assertNever",{enumerable:true,get:function get(){return assert_never_1.assertNever}});var deep_freeze_1=__webpack_require__(13);Object.defineProperty(exports,"deepFreeze",{enumerable:true,get:function get(){return deep_freeze_1.deepFreeze}});var get_1=__webpack_require__(5);Object.defineProperty(exports,"get",{enumerable:true,get:function get(){return get_1.get}});var map_to_object_1=__webpack_require__(14);Object.defineProperty(exports,"mapToObject",{enumerable:true,get:function get(){return map_to_object_1.mapToObject}});var merge_1=__webpack_require__(15);Object.defineProperty(exports,"merge",{enumerable:true,get:function get(){return merge_1.merge}});var pick_1=__webpack_require__(17);Object.defineProperty(exports,"pick",{enumerable:true,get:function get(){return pick_1.pick}});var promise_1=__webpack_require__(18);Object.defineProperty(exports,"withTimeout",{enumerable:true,get:function get(){return promise_1.withTimeout}});var url_1=__webpack_require__(19);Object.defineProperty(exports,"isRelativeUrl",{enumerable:true,get:function get(){return url_1.isRelativeUrl}});Object.defineProperty(exports,"modifyUrl",{enumerable:true,get:function get(){return url_1.modifyUrl}});Object.defineProperty(exports,"getUrlOrigin",{enumerable:true,get:function get(){return url_1.getUrlOrigin}});var unset_1=__webpack_require__(28);Object.defineProperty(exports,"unset",{enumerable:true,get:function get(){return unset_1.unset}});var get_flattened_object_1=__webpack_require__(29);Object.defineProperty(exports,"getFlattenedObject",{enumerable:true,get:function get(){return get_flattened_object_1.getFlattenedObject}});tslib_1.__exportStar(__webpack_require__(30),exports)},function(module,exports,__webpack_require__){"use strict";function _createForOfIteratorHelper(o,allowArrayLike){var it;if(typeof Symbol==="undefined"||o[Symbol.iterator]==null){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var normalCompletion=true,didErr=false,err;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();normalCompletion=step.done;return step},e:function e(_e2){didErr=true;err=_e2},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return()}finally{if(didErr)throw err}}}}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}Object.defineProperty(exports,"__esModule",{value:true});exports.get=void 0;function get(obj,path){if(typeof path==="string"){if(path.includes(".")){throw new Error("Using dots in `get` with a string is not allowed, use array instead")}return obj[path]}var _iterator=_createForOfIteratorHelper(path),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){const key=_step.value;obj=obj[key]}}catch(err){_iterator.e(err)}finally{_iterator.f()}return obj}exports.get=get},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/kibanaReact/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports){module.exports=__kbnSharedDeps__.KbnI18n},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/kibanaUtils/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_val_loader_dist_cjs_js_key_urlDrilldown_kbn_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(10);var _node_modules_val_loader_dist_cjs_js_key_urlDrilldown_kbn_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_val_loader_dist_cjs_js_key_urlDrilldown_kbn_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0__);__kbnBundles__.define("plugin/urlDrilldown/public",__webpack_require__,32)},function(module,exports,__webpack_require__){__webpack_require__.p=window.__kbnPublicPath__["urlDrilldown"]},function(module,exports){module.exports=__kbnSharedDeps__.TsLib},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.assertNever=void 0;function assertNever(x){throw new Error("Unexpected object: ".concat(x))}exports.assertNever=assertNever},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.deepFreeze=void 0;function deepFreeze(object){for(var _i=0,_Object$values=Object.values(object);_i<_Object$values.length;_i++){const value=_Object$values[_i];if(value!==null&&typeof value==="object"){deepFreeze(value)}}return Object.freeze(object)}exports.deepFreeze=deepFreeze},function(module,exports,__webpack_require__){"use strict";function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _createForOfIteratorHelper(o,allowArrayLike){var it;if(typeof Symbol==="undefined"||o[Symbol.iterator]==null){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]}},e:function e(_e2){throw _e2},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var normalCompletion=true,didErr=false,err;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();normalCompletion=step.done;return step},e:function e(_e3){didErr=true;err=_e3},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return()}finally{if(didErr)throw err}}}}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}Object.defineProperty(exports,"__esModule",{value:true});exports.mapToObject=void 0;function mapToObject(map){const result=Object.create(null);var _iterator=_createForOfIteratorHelper(map),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){const _step$value=_slicedToArray(_step.value,2),key=_step$value[0],value=_step$value[1];result[key]=value}}catch(err){_iterator.e(err)}finally{_iterator.f()}return result}exports.mapToObject=mapToObject},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.merge=void 0;const lodash_1=__webpack_require__(16);function merge(baseObj,...sources){const firstSource=sources[0];if(firstSource===undefined){return baseObj}return sources.slice(1).reduce((merged,nextSource)=>mergeObjects(merged,nextSource),mergeObjects(baseObj,firstSource))}exports.merge=merge;const isMergable=obj=>lodash_1.isPlainObject(obj);const mergeObjects=(baseObj,overrideObj)=>[...new Set([...Object.keys(baseObj),...Object.keys(overrideObj)])].reduce((merged,key)=>{const baseVal=baseObj[key];const overrideVal=overrideObj[key];if(isMergable(baseVal)&&isMergable(overrideVal)){merged[key]=mergeObjects(baseVal,overrideVal)}else if(overrideVal!==undefined){merged[key]=overrideVal}else if(baseVal!==undefined){merged[key]=baseVal}return merged},{})},function(module,exports){module.exports=__kbnSharedDeps__.Lodash},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.pick=void 0;function pick(obj,keys){return keys.reduce((acc,key)=>{if(obj.hasOwnProperty(key)){acc[key]=obj[key]}return acc},{})}exports.pick=pick},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.withTimeout=void 0;function withTimeout({promise:promise,timeout:timeout,errorMessage:errorMessage}){return Promise.race([promise,new Promise((resolve,reject)=>setTimeout(()=>reject(new Error(errorMessage)),timeout))])}exports.withTimeout=withTimeout},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getUrlOrigin=exports.isRelativeUrl=exports.modifyUrl=void 0;const url_1=__webpack_require__(20);function modifyUrl(url,urlModifier){const parsed=url_1.parse(url,true);const meaningfulParts={auth:parsed.auth,hash:parsed.hash,hostname:parsed.hostname,pathname:parsed.pathname,port:parsed.port,protocol:parsed.protocol,query:parsed.query||{},slashes:parsed.slashes};const modifiedParts=urlModifier(meaningfulParts)||meaningfulParts;return url_1.format({auth:modifiedParts.auth,hash:modifiedParts.hash,hostname:modifiedParts.hostname,pathname:modifiedParts.pathname,port:modifiedParts.port,protocol:modifiedParts.protocol,query:modifiedParts.query,slashes:modifiedParts.slashes})}exports.modifyUrl=modifyUrl;function isRelativeUrl(candidatePath){const all=url_1.parse(candidatePath,false,true);const protocol=all.protocol,hostname=all.hostname,port=all.port;if(protocol!==null||hostname!==null||port!==null){return false}return true}exports.isRelativeUrl=isRelativeUrl;function getUrlOrigin(url){const obj=url_1.parse(url);if(!obj.protocol&&!obj.hostname){return null}return"".concat(obj.protocol,"//").concat(obj.hostname).concat(obj.port?":".concat(obj.port):"")}exports.getUrlOrigin=getUrlOrigin},function(module,exports,__webpack_require__){"use strict";var punycode=__webpack_require__(21);var util=__webpack_require__(24);exports.parse=urlParse;exports.resolve=urlResolve;exports.resolveObject=urlResolveObject;exports.format=urlFormat;exports.Url=Url;function Url(){this.protocol=null;this.slashes=null;this.auth=null;this.host=null;this.port=null;this.hostname=null;this.hash=null;this.search=null;this.query=null;this.pathname=null;this.path=null;this.href=null}var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,simplePathPattern=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,delims=["<",">",'"',"`"," ","\r","\n","\t"],unwise=["{","}","|","\\","^","`"].concat(delims),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnameMaxLen=255,hostnamePartPattern=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,unsafeProtocol={javascript:true,"javascript:":true},hostlessProtocol={javascript:true,"javascript:":true},slashedProtocol={http:true,https:true,ftp:true,gopher:true,file:true,"http:":true,"https:":true,"ftp:":true,"gopher:":true,"file:":true},querystring=__webpack_require__(25);function urlParse(url,parseQueryString,slashesDenoteHost){if(url&&util.isObject(url)&&url instanceof Url)return url;var u=new Url;u.parse(url,parseQueryString,slashesDenoteHost);return u}Url.prototype.parse=function(url,parseQueryString,slashesDenoteHost){if(!util.isString(url)){throw new TypeError("Parameter 'url' must be a string, not "+typeof url)}var queryIndex=url.indexOf("?"),splitter=queryIndex!==-1&&queryIndex<url.indexOf("#")?"?":"#",uSplit=url.split(splitter),slashRegex=/\\/g;uSplit[0]=uSplit[0].replace(slashRegex,"/");url=uSplit.join(splitter);var rest=url;rest=rest.trim();if(!slashesDenoteHost&&url.split("#").length===1){var simplePath=simplePathPattern.exec(rest);if(simplePath){this.path=rest;this.href=rest;this.pathname=simplePath[1];if(simplePath[2]){this.search=simplePath[2];if(parseQueryString){this.query=querystring.parse(this.search.substr(1))}else{this.query=this.search.substr(1)}}else if(parseQueryString){this.search="";this.query={}}return this}}var proto=protocolPattern.exec(rest);if(proto){proto=proto[0];var lowerProto=proto.toLowerCase();this.protocol=lowerProto;rest=rest.substr(proto.length)}if(slashesDenoteHost||proto||rest.match(/^\/\/[^@\/]+@[^@\/]+/)){var slashes=rest.substr(0,2)==="//";if(slashes&&!(proto&&hostlessProtocol[proto])){rest=rest.substr(2);this.slashes=true}}if(!hostlessProtocol[proto]&&(slashes||proto&&!slashedProtocol[proto])){var hostEnd=-1;for(var i=0;i<hostEndingChars.length;i++){var hec=rest.indexOf(hostEndingChars[i]);if(hec!==-1&&(hostEnd===-1||hec<hostEnd))hostEnd=hec}var auth,atSign;if(hostEnd===-1){atSign=rest.lastIndexOf("@")}else{atSign=rest.lastIndexOf("@",hostEnd)}if(atSign!==-1){auth=rest.slice(0,atSign);rest=rest.slice(atSign+1);this.auth=decodeURIComponent(auth)}hostEnd=-1;for(var i=0;i<nonHostChars.length;i++){var hec=rest.indexOf(nonHostChars[i]);if(hec!==-1&&(hostEnd===-1||hec<hostEnd))hostEnd=hec}if(hostEnd===-1)hostEnd=rest.length;this.host=rest.slice(0,hostEnd);rest=rest.slice(hostEnd);this.parseHost();this.hostname=this.hostname||"";var ipv6Hostname=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!ipv6Hostname){var hostparts=this.hostname.split(/\./);for(var i=0,l=hostparts.length;i<l;i++){var part=hostparts[i];if(!part)continue;if(!part.match(hostnamePartPattern)){var newpart="";for(var j=0,k=part.length;j<k;j++){if(part.charCodeAt(j)>127){newpart+="x"}else{newpart+=part[j]}}if(!newpart.match(hostnamePartPattern)){var validParts=hostparts.slice(0,i);var notHost=hostparts.slice(i+1);var bit=part.match(hostnamePartStart);if(bit){validParts.push(bit[1]);notHost.unshift(bit[2])}if(notHost.length){rest="/"+notHost.join(".")+rest}this.hostname=validParts.join(".");break}}}}if(this.hostname.length>hostnameMaxLen){this.hostname=""}else{this.hostname=this.hostname.toLowerCase()}if(!ipv6Hostname){this.hostname=punycode.toASCII(this.hostname)}var p=this.port?":"+this.port:"";var h=this.hostname||"";this.host=h+p;this.href+=this.host;if(ipv6Hostname){this.hostname=this.hostname.substr(1,this.hostname.length-2);if(rest[0]!=="/"){rest="/"+rest}}}if(!unsafeProtocol[lowerProto]){for(var i=0,l=autoEscape.length;i<l;i++){var ae=autoEscape[i];if(rest.indexOf(ae)===-1)continue;var esc=encodeURIComponent(ae);if(esc===ae){esc=escape(ae)}rest=rest.split(ae).join(esc)}}var hash=rest.indexOf("#");if(hash!==-1){this.hash=rest.substr(hash);rest=rest.slice(0,hash)}var qm=rest.indexOf("?");if(qm!==-1){this.search=rest.substr(qm);this.query=rest.substr(qm+1);if(parseQueryString){this.query=querystring.parse(this.query)}rest=rest.slice(0,qm)}else if(parseQueryString){this.search="";this.query={}}if(rest)this.pathname=rest;if(slashedProtocol[lowerProto]&&this.hostname&&!this.pathname){this.pathname="/"}if(this.pathname||this.search){var p=this.pathname||"";var s=this.search||"";this.path=p+s}this.href=this.format();return this};function urlFormat(obj){if(util.isString(obj))obj=urlParse(obj);if(!(obj instanceof Url))return Url.prototype.format.call(obj);return obj.format()}Url.prototype.format=function(){var auth=this.auth||"";if(auth){auth=encodeURIComponent(auth);auth=auth.replace(/%3A/i,":");auth+="@"}var protocol=this.protocol||"",pathname=this.pathname||"",hash=this.hash||"",host=false,query="";if(this.host){host=auth+this.host}else if(this.hostname){host=auth+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]");if(this.port){host+=":"+this.port}}if(this.query&&util.isObject(this.query)&&Object.keys(this.query).length){query=querystring.stringify(this.query)}var search=this.search||query&&"?"+query||"";if(protocol&&protocol.substr(-1)!==":")protocol+=":";if(this.slashes||(!protocol||slashedProtocol[protocol])&&host!==false){host="//"+(host||"");if(pathname&&pathname.charAt(0)!=="/")pathname="/"+pathname}else if(!host){host=""}if(hash&&hash.charAt(0)!=="#")hash="#"+hash;if(search&&search.charAt(0)!=="?")search="?"+search;pathname=pathname.replace(/[?#]/g,(function(match){return encodeURIComponent(match)}));search=search.replace("#","%23");return protocol+host+pathname+search+hash};function urlResolve(source,relative){return urlParse(source,false,true).resolve(relative)}Url.prototype.resolve=function(relative){return this.resolveObject(urlParse(relative,false,true)).format()};function urlResolveObject(source,relative){if(!source)return relative;return urlParse(source,false,true).resolveObject(relative)}Url.prototype.resolveObject=function(relative){if(util.isString(relative)){var rel=new Url;rel.parse(relative,false,true);relative=rel}var result=new Url;var tkeys=Object.keys(this);for(var tk=0;tk<tkeys.length;tk++){var tkey=tkeys[tk];result[tkey]=this[tkey]}result.hash=relative.hash;if(relative.href===""){result.href=result.format();return result}if(relative.slashes&&!relative.protocol){var rkeys=Object.keys(relative);for(var rk=0;rk<rkeys.length;rk++){var rkey=rkeys[rk];if(rkey!=="protocol")result[rkey]=relative[rkey]}if(slashedProtocol[result.protocol]&&result.hostname&&!result.pathname){result.path=result.pathname="/"}result.href=result.format();return result}if(relative.protocol&&relative.protocol!==result.protocol){if(!slashedProtocol[relative.protocol]){var keys=Object.keys(relative);for(var v=0;v<keys.length;v++){var k=keys[v];result[k]=relative[k]}result.href=result.format();return result}result.protocol=relative.protocol;if(!relative.host&&!hostlessProtocol[relative.protocol]){var relPath=(relative.pathname||"").split("/");while(relPath.length&&!(relative.host=relPath.shift()));if(!relative.host)relative.host="";if(!relative.hostname)relative.hostname="";if(relPath[0]!=="")relPath.unshift("");if(relPath.length<2)relPath.unshift("");result.pathname=relPath.join("/")}else{result.pathname=relative.pathname}result.search=relative.search;result.query=relative.query;result.host=relative.host||"";result.auth=relative.auth;result.hostname=relative.hostname||relative.host;result.port=relative.port;if(result.pathname||result.search){var p=result.pathname||"";var s=result.search||"";result.path=p+s}result.slashes=result.slashes||relative.slashes;result.href=result.format();return result}var isSourceAbs=result.pathname&&result.pathname.charAt(0)==="/",isRelAbs=relative.host||relative.pathname&&relative.pathname.charAt(0)==="/",mustEndAbs=isRelAbs||isSourceAbs||result.host&&relative.pathname,removeAllDots=mustEndAbs,srcPath=result.pathname&&result.pathname.split("/")||[],relPath=relative.pathname&&relative.pathname.split("/")||[],psychotic=result.protocol&&!slashedProtocol[result.protocol];if(psychotic){result.hostname="";result.port=null;if(result.host){if(srcPath[0]==="")srcPath[0]=result.host;else srcPath.unshift(result.host)}result.host="";if(relative.protocol){relative.hostname=null;relative.port=null;if(relative.host){if(relPath[0]==="")relPath[0]=relative.host;else relPath.unshift(relative.host)}relative.host=null}mustEndAbs=mustEndAbs&&(relPath[0]===""||srcPath[0]==="")}if(isRelAbs){result.host=relative.host||relative.host===""?relative.host:result.host;result.hostname=relative.hostname||relative.hostname===""?relative.hostname:result.hostname;result.search=relative.search;result.query=relative.query;srcPath=relPath}else if(relPath.length){if(!srcPath)srcPath=[];srcPath.pop();srcPath=srcPath.concat(relPath);result.search=relative.search;result.query=relative.query}else if(!util.isNullOrUndefined(relative.search)){if(psychotic){result.hostname=result.host=srcPath.shift();var authInHost=result.host&&result.host.indexOf("@")>0?result.host.split("@"):false;if(authInHost){result.auth=authInHost.shift();result.host=result.hostname=authInHost.shift()}}result.search=relative.search;result.query=relative.query;if(!util.isNull(result.pathname)||!util.isNull(result.search)){result.path=(result.pathname?result.pathname:"")+(result.search?result.search:"")}result.href=result.format();return result}if(!srcPath.length){result.pathname=null;if(result.search){result.path="/"+result.search}else{result.path=null}result.href=result.format();return result}var last=srcPath.slice(-1)[0];var hasTrailingSlash=(result.host||relative.host||srcPath.length>1)&&(last==="."||last==="..")||last==="";var up=0;for(var i=srcPath.length;i>=0;i--){last=srcPath[i];if(last==="."){srcPath.splice(i,1)}else if(last===".."){srcPath.splice(i,1);up++}else if(up){srcPath.splice(i,1);up--}}if(!mustEndAbs&&!removeAllDots){for(;up--;up){srcPath.unshift("..")}}if(mustEndAbs&&srcPath[0]!==""&&(!srcPath[0]||srcPath[0].charAt(0)!=="/")){srcPath.unshift("")}if(hasTrailingSlash&&srcPath.join("/").substr(-1)!=="/"){srcPath.push("")}var isAbsolute=srcPath[0]===""||srcPath[0]&&srcPath[0].charAt(0)==="/";if(psychotic){result.hostname=result.host=isAbsolute?"":srcPath.length?srcPath.shift():"";var authInHost=result.host&&result.host.indexOf("@")>0?result.host.split("@"):false;if(authInHost){result.auth=authInHost.shift();result.host=result.hostname=authInHost.shift()}}mustEndAbs=mustEndAbs||result.host&&srcPath.length;if(mustEndAbs&&!isAbsolute){srcPath.unshift("")}if(!srcPath.length){result.pathname=null;result.path=null}else{result.pathname=srcPath.join("/")}if(!util.isNull(result.pathname)||!util.isNull(result.search)){result.path=(result.pathname?result.pathname:"")+(result.search?result.search:"")}result.auth=relative.auth||result.auth;result.slashes=result.slashes||relative.slashes;result.href=result.format();return result};Url.prototype.parseHost=function(){var host=this.host;var port=portPattern.exec(host);if(port){port=port[0];if(port!==":"){this.port=port.substr(1)}host=host.substr(0,host.length-port.length)}if(host)this.hostname=host}},function(module,exports,__webpack_require__){(function(module,global){var __WEBPACK_AMD_DEFINE_RESULT__;/*! https://mths.be/punycode v1.4.1 by @mathias */(function(root){var freeExports=true&&exports&&!exports.nodeType&&exports;var freeModule=true&&module&&!module.nodeType&&module;var freeGlobal=typeof global=="object"&&global;if(freeGlobal.global===freeGlobal||freeGlobal.window===freeGlobal||freeGlobal.self===freeGlobal){root=freeGlobal}var punycode,maxInt=2147483647,base=36,tMin=1,tMax=26,skew=38,damp=700,initialBias=72,initialN=128,delimiter="-",regexPunycode=/^xn--/,regexNonASCII=/[^\x20-\x7E]/,regexSeparators=/[\x2E\u3002\uFF0E\uFF61]/g,errors={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},baseMinusTMin=base-tMin,floor=Math.floor,stringFromCharCode=String.fromCharCode,key;function error(type){throw new RangeError(errors[type])}function map(array,fn){var length=array.length;var result=[];while(length--){result[length]=fn(array[length])}return result}function mapDomain(string,fn){var parts=string.split("@");var result="";if(parts.length>1){result=parts[0]+"@";string=parts[1]}string=string.replace(regexSeparators,".");var labels=string.split(".");var encoded=map(labels,fn).join(".");return result+encoded}function ucs2decode(string){var output=[],counter=0,length=string.length,value,extra;while(counter<length){value=string.charCodeAt(counter++);if(value>=55296&&value<=56319&&counter<length){extra=string.charCodeAt(counter++);if((extra&64512)==56320){output.push(((value&1023)<<10)+(extra&1023)+65536)}else{output.push(value);counter--}}else{output.push(value)}}return output}function ucs2encode(array){return map(array,(function(value){var output="";if(value>65535){value-=65536;output+=stringFromCharCode(value>>>10&1023|55296);value=56320|value&1023}output+=stringFromCharCode(value);return output})).join("")}function basicToDigit(codePoint){if(codePoint-48<10){return codePoint-22}if(codePoint-65<26){return codePoint-65}if(codePoint-97<26){return codePoint-97}return base}function digitToBasic(digit,flag){return digit+22+75*(digit<26)-((flag!=0)<<5)}function adapt(delta,numPoints,firstTime){var k=0;delta=firstTime?floor(delta/damp):delta>>1;delta+=floor(delta/numPoints);for(;delta>baseMinusTMin*tMax>>1;k+=base){delta=floor(delta/baseMinusTMin)}return floor(k+(baseMinusTMin+1)*delta/(delta+skew))}function decode(input){var output=[],inputLength=input.length,out,i=0,n=initialN,bias=initialBias,basic,j,index,oldi,w,k,digit,t,baseMinusT;basic=input.lastIndexOf(delimiter);if(basic<0){basic=0}for(j=0;j<basic;++j){if(input.charCodeAt(j)>=128){error("not-basic")}output.push(input.charCodeAt(j))}for(index=basic>0?basic+1:0;index<inputLength;){for(oldi=i,w=1,k=base;;k+=base){if(index>=inputLength){error("invalid-input")}digit=basicToDigit(input.charCodeAt(index++));if(digit>=base||digit>floor((maxInt-i)/w)){error("overflow")}i+=digit*w;t=k<=bias?tMin:k>=bias+tMax?tMax:k-bias;if(digit<t){break}baseMinusT=base-t;if(w>floor(maxInt/baseMinusT)){error("overflow")}w*=baseMinusT}out=output.length+1;bias=adapt(i-oldi,out,oldi==0);if(floor(i/out)>maxInt-n){error("overflow")}n+=floor(i/out);i%=out;output.splice(i++,0,n)}return ucs2encode(output)}function encode(input){var n,delta,handledCPCount,basicLength,bias,j,m,q,k,t,currentValue,output=[],inputLength,handledCPCountPlusOne,baseMinusT,qMinusT;input=ucs2decode(input);inputLength=input.length;n=initialN;delta=0;bias=initialBias;for(j=0;j<inputLength;++j){currentValue=input[j];if(currentValue<128){output.push(stringFromCharCode(currentValue))}}handledCPCount=basicLength=output.length;if(basicLength){output.push(delimiter)}while(handledCPCount<inputLength){for(m=maxInt,j=0;j<inputLength;++j){currentValue=input[j];if(currentValue>=n&&currentValue<m){m=currentValue}}handledCPCountPlusOne=handledCPCount+1;if(m-n>floor((maxInt-delta)/handledCPCountPlusOne)){error("overflow")}delta+=(m-n)*handledCPCountPlusOne;n=m;for(j=0;j<inputLength;++j){currentValue=input[j];if(currentValue<n&&++delta>maxInt){error("overflow")}if(currentValue==n){for(q=delta,k=base;;k+=base){t=k<=bias?tMin:k>=bias+tMax?tMax:k-bias;if(q<t){break}qMinusT=q-t;baseMinusT=base-t;output.push(stringFromCharCode(digitToBasic(t+qMinusT%baseMinusT,0)));q=floor(qMinusT/baseMinusT)}output.push(stringFromCharCode(digitToBasic(q,0)));bias=adapt(delta,handledCPCountPlusOne,handledCPCount==basicLength);delta=0;++handledCPCount}}++delta;++n}return output.join("")}function toUnicode(input){return mapDomain(input,(function(string){return regexPunycode.test(string)?decode(string.slice(4).toLowerCase()):string}))}function toASCII(input){return mapDomain(input,(function(string){return regexNonASCII.test(string)?"xn--"+encode(string):string}))}punycode={version:"1.4.1",ucs2:{decode:ucs2decode,encode:ucs2encode},decode:decode,encode:encode,toASCII:toASCII,toUnicode:toUnicode};if(true){!(__WEBPACK_AMD_DEFINE_RESULT__=function(){return punycode}.call(exports,__webpack_require__,exports,module),__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}else{}})(this)}).call(this,__webpack_require__(22)(module),__webpack_require__(23))},function(module,exports){module.exports=function(module){if(!module.webpackPolyfill){module.deprecate=function(){};module.paths=[];if(!module.children)module.children=[];Object.defineProperty(module,"loaded",{enumerable:true,get:function(){return module.l}});Object.defineProperty(module,"id",{enumerable:true,get:function(){return module.i}});module.webpackPolyfill=1}return module}},function(module,exports){var g;g=function(){return this}();try{g=g||new Function("return this")()}catch(e){if(typeof window==="object")g=window}module.exports=g},function(module,exports,__webpack_require__){"use strict";module.exports={isString:function(arg){return typeof arg==="string"},isObject:function(arg){return typeof arg==="object"&&arg!==null},isNull:function(arg){return arg===null},isNullOrUndefined:function(arg){return arg==null}}},function(module,exports,__webpack_require__){"use strict";exports.decode=exports.parse=__webpack_require__(26);exports.encode=exports.stringify=__webpack_require__(27)},function(module,exports,__webpack_require__){"use strict";function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}module.exports=function(qs,sep,eq,options){sep=sep||"&";eq=eq||"=";var obj={};if(typeof qs!=="string"||qs.length===0){return obj}var regexp=/\+/g;qs=qs.split(sep);var maxKeys=1e3;if(options&&typeof options.maxKeys==="number"){maxKeys=options.maxKeys}var len=qs.length;if(maxKeys>0&&len>maxKeys){len=maxKeys}for(var i=0;i<len;++i){var x=qs[i].replace(regexp,"%20"),idx=x.indexOf(eq),kstr,vstr,k,v;if(idx>=0){kstr=x.substr(0,idx);vstr=x.substr(idx+1)}else{kstr=x;vstr=""}k=decodeURIComponent(kstr);v=decodeURIComponent(vstr);if(!hasOwnProperty(obj,k)){obj[k]=v}else if(isArray(obj[k])){obj[k].push(v)}else{obj[k]=[obj[k],v]}}return obj};var isArray=Array.isArray||function(xs){return Object.prototype.toString.call(xs)==="[object Array]"}},function(module,exports,__webpack_require__){"use strict";var stringifyPrimitive=function(v){switch(typeof v){case"string":return v;case"boolean":return v?"true":"false";case"number":return isFinite(v)?v:"";default:return""}};module.exports=function(obj,sep,eq,name){sep=sep||"&";eq=eq||"=";if(obj===null){obj=undefined}if(typeof obj==="object"){return map(objectKeys(obj),(function(k){var ks=encodeURIComponent(stringifyPrimitive(k))+eq;if(isArray(obj[k])){return map(obj[k],(function(v){return ks+encodeURIComponent(stringifyPrimitive(v))})).join(sep)}else{return ks+encodeURIComponent(stringifyPrimitive(obj[k]))}})).join(sep)}if(!name)return"";return encodeURIComponent(stringifyPrimitive(name))+eq+encodeURIComponent(stringifyPrimitive(obj))};var isArray=Array.isArray||function(xs){return Object.prototype.toString.call(xs)==="[object Array]"};function map(xs,f){if(xs.map)return xs.map(f);var res=[];for(var i=0;i<xs.length;i++){res.push(f(xs[i],i))}return res}var objectKeys=Object.keys||function(obj){var res=[];for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))res.push(key)}return res}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.unset=void 0;const get_1=__webpack_require__(5);function unset(obj,atPath){const paths=atPath.split(".").map(s=>s.trim()).filter(v=>v!=="");if(paths.length===0){return}if(paths.length===1){delete obj[paths[0]];return}const property=paths.pop();const parent=get_1.get(obj,paths);if(parent!==undefined){delete parent[property]}}exports.unset=unset},function(module,exports,__webpack_require__){"use strict";function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}Object.defineProperty(exports,"__esModule",{value:true});exports.getFlattenedObject=void 0;function shouldReadKeys(value){return typeof value==="object"&&value!==null&&!Array.isArray(value)}function getFlattenedObject(rootValue){if(!shouldReadKeys(rootValue)){throw new TypeError("Root value is not flatten-able, received ".concat(rootValue))}const result={};(function flatten(prefix,object){for(var _i=0,_Object$entries=Object.entries(object);_i<_Object$entries.length;_i++){const _Object$entries$_i=_slicedToArray(_Object$entries[_i],2),key=_Object$entries$_i[0],value=_Object$entries$_i[1];const path=prefix?"".concat(prefix,".").concat(key):key;if(shouldReadKeys(value)){flatten(path,value)}else{result[path]=value}}})("",rootValue);return result}exports.getFlattenedObject=getFlattenedObject},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.lastValueFrom=exports.firstValueFrom=void 0;const operators_1=__webpack_require__(31);function firstValueFrom(source){return source.pipe(operators_1.first()).toPromise()}exports.firstValueFrom=firstValueFrom;function lastValueFrom(source){return source.pipe(operators_1.last()).toPromise()}exports.lastValueFrom=lastValueFrom},function(module,exports){module.exports=__kbnSharedDeps__.RxjsOperators},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"plugin",(function(){return public_plugin}));var public_=__webpack_require__(2);var external_kbnSharedDeps_React_=__webpack_require__(3);var external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_);var target=__webpack_require__(4);var kibanaReact_public_=__webpack_require__(6);var embeddable_public_=__webpack_require__(1);var uiActions_public_=__webpack_require__(0);function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _createForOfIteratorHelper(o,allowArrayLike){var it;if(typeof Symbol==="undefined"||o[Symbol.iterator]==null){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]}},e:function e(_e2){throw _e2},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var normalCompletion=true,didErr=false,err;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();normalCompletion=step.done;return step},e:function e(_e3){didErr=true;err=_e3},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return()}finally{if(didErr)throw err}}}}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function getPanelVariables(contextScopeInput){function hasEmbeddable(val){if(val&&typeof val==="object"&&"embeddable"in val)return true;return false}if(!hasEmbeddable(contextScopeInput))throw new Error("UrlDrilldown [getContextScope] can't build scope because embeddable object is missing in context");const embeddable=contextScopeInput.embeddable;return getEmbeddableVariables(embeddable)}function hasSavedObjectId(obj){return"savedObjectId"in obj&&typeof obj.savedObjectId==="string"}function getIndexPatternIds(output){function hasIndexPatterns(_output){return"indexPatterns"in _output&&Array.isArray(_output.indexPatterns)&&_output.indexPatterns.length>0}return hasIndexPatterns(output)?output.indexPatterns.map(ip=>ip.id).filter(Boolean):[]}function getEmbeddableVariables(embeddable){var _output$title,_output$savedObjectId;const input=embeddable.getInput();const output=embeddable.getOutput();const indexPatternsIds=getIndexPatternIds(output);return deleteUndefinedKeys({id:input.id,title:(_output$title=output.title)!==null&&_output$title!==void 0?_output$title:input.title,savedObjectId:(_output$savedObjectId=output.savedObjectId)!==null&&_output$savedObjectId!==void 0?_output$savedObjectId:hasSavedObjectId(input)?input.savedObjectId:undefined,query:input.query,timeRange:input.timeRange,filters:input.filters,indexPatternIds:indexPatternsIds.length>1?indexPatternsIds:undefined,indexPatternId:indexPatternsIds.length===1?indexPatternsIds[0]:undefined})}function getEventScope(eventScopeInput){if(Object(embeddable_public_["isRangeSelectTriggerContext"])(eventScopeInput)){return getEventScopeFromRangeSelectTriggerContext(eventScopeInput)}else if(Object(embeddable_public_["isValueClickTriggerContext"])(eventScopeInput)){return getEventScopeFromValueClickTriggerContext(eventScopeInput)}else if(Object(embeddable_public_["isRowClickTriggerContext"])(eventScopeInput)){return getEventScopeFromRowClickTriggerContext(eventScopeInput)}else if(Object(embeddable_public_["isContextMenuTriggerContext"])(eventScopeInput)){return{}}else{throw new Error("UrlDrilldown [getEventScope] can't build scope from not supported trigger")}}function getEventScopeFromRangeSelectTriggerContext(eventScopeInput){const _eventScopeInput$data=eventScopeInput.data,table=_eventScopeInput$data.table,columnIndex=_eventScopeInput$data.column,range=_eventScopeInput$data.range;const column=table.columns[columnIndex];return deleteUndefinedKeys({key:toPrimitiveOrUndefined(column===null||column===void 0?void 0:column.meta.field),from:toPrimitiveOrUndefined(range[0]),to:toPrimitiveOrUndefined(range[range.length-1])})}function getEventScopeFromValueClickTriggerContext(eventScopeInput){var _eventScopeInput$data2,_points$,_points$2;const negate=(_eventScopeInput$data2=eventScopeInput.data.negate)!==null&&_eventScopeInput$data2!==void 0?_eventScopeInput$data2:false;const points=eventScopeInput.data.data.map(({table:table,value:value,column:columnIndex})=>{var _column$meta;const column=table.columns[columnIndex];return{value:toPrimitiveOrUndefined(value),key:column===null||column===void 0?void 0:(_column$meta=column.meta)===null||_column$meta===void 0?void 0:_column$meta.field}});return deleteUndefinedKeys({key:(_points$=points[0])===null||_points$===void 0?void 0:_points$.key,value:(_points$2=points[0])===null||_points$2===void 0?void 0:_points$2.value,negate:negate,points:points})}function getEventScopeFromRowClickTriggerContext({embeddable:embeddable,data:data}){const rowIndex=data.rowIndex;const columns=data.columns||data.table.columns.map(({id:id})=>id);const values=[];const keys=[];const columnNames=[];const row=data.table.rows[rowIndex];var _iterator=_createForOfIteratorHelper(columns),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){const columnId=_step.value;const column=data.table.columns.find(({id:id})=>id===columnId);if(!column){console.error(data,embeddable?"Embeddable [".concat(embeddable.getTitle(),"]"):null);throw new Error("Could not find a datatable column.")}values.push(row[columnId]);keys.push(column.meta.field||"");columnNames.push(column.name||column.meta.field||"")}}catch(err){_iterator.e(err)}finally{_iterator.f()}const scope={rowIndex:rowIndex,values:values,keys:keys,columnNames:columnNames};return scope}function getEventVariableList(context){const _context$triggers=_slicedToArray(context.triggers,1),trigger=_context$triggers[0];switch(trigger){case uiActions_public_["SELECT_RANGE_TRIGGER"]:return["event.key","event.from","event.to"];case uiActions_public_["VALUE_CLICK_TRIGGER"]:return["event.key","event.value","event.negate","event.points"];case uiActions_public_["ROW_CLICK_TRIGGER"]:return["event.rowIndex","event.values","event.keys","event.columnNames"]}return[]}function toPrimitiveOrUndefined(v){if(typeof v==="number"||typeof v==="boolean"||typeof v==="string"||v===null)return v;if(typeof v==="object"&&v instanceof Date)return v.toISOString();if(typeof v==="undefined")return undefined;return String(v)}function deleteUndefinedKeys(obj){Object.keys(obj).forEach(key=>{if(obj[key]===undefined){delete obj[key]}});return obj}var external_kbnSharedDeps_KbnI18n_=__webpack_require__(7);const txtUrlDrilldownDisplayName=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.urlDrilldown.DisplayName",{defaultMessage:"Go to URL"});function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const URL_DRILLDOWN="URL_DRILLDOWN";class url_drilldown_UrlDrilldown{constructor(deps){var _this=this;this.deps=deps;_defineProperty(this,"id",URL_DRILLDOWN);_defineProperty(this,"order",8);_defineProperty(this,"minimalLicense","gold");_defineProperty(this,"licenseFeatureName","URL drilldown");_defineProperty(this,"isBeta",true);_defineProperty(this,"getDisplayName",()=>txtUrlDrilldownDisplayName);_defineProperty(this,"euiIcon","link");_defineProperty(this,"ReactCollectConfig",({config:config,onConfig:onConfig,context:context})=>{const variables=external_kbnSharedDeps_React_default.a.useMemo(()=>this.getVariableList(context),[context]);return external_kbnSharedDeps_React_default.a.createElement(public_["UrlDrilldownCollectConfig"],{variables:variables,config:config,onConfig:onConfig,syntaxHelpDocsLink:this.deps.getSyntaxHelpDocsLink(),variablesHelpDocsLink:this.deps.getVariablesHelpDocsLink()})});_defineProperty(this,"CollectConfig",Object(kibanaReact_public_["reactToUiComponent"])(this.ReactCollectConfig));_defineProperty(this,"createConfig",()=>({url:{template:""},openInNewTab:false}));_defineProperty(this,"isConfigValid",config=>!!config.url.template);_defineProperty(this,"isCompatible",function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(config,context){var scope,_urlDrilldownValidate,isValid,error,url,validUrl;return regeneratorRuntime.wrap((function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:scope=_this.getRuntimeVariables(context);_urlDrilldownValidate=Object(public_["urlDrilldownValidateUrlTemplate"])(config.url,scope),isValid=_urlDrilldownValidate.isValid,error=_urlDrilldownValidate.error;if(isValid){_context.next=5;break}console.warn("UrlDrilldown [".concat(config.url.template,"] is not valid. Error [").concat(error,"]. Skipping execution."));return _context.abrupt("return",false);case 5:url=_this.buildUrl(config,context);validUrl=_this.deps.externalUrl.validateUrl(url);if(validUrl){_context.next=9;break}return _context.abrupt("return",false);case 9:return _context.abrupt("return",true);case 10:case"end":return _context.stop()}}),_callee)})));return function(_x,_x2){return _ref.apply(this,arguments)}}());_defineProperty(this,"getHref",function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(config,context){var url,validUrl;return regeneratorRuntime.wrap((function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:url=_this.buildUrl(config,context);validUrl=_this.deps.externalUrl.validateUrl(url);if(validUrl){_context2.next=4;break}throw new Error("External URL [".concat(url,"] was denied by ExternalUrl service. ")+'You can configure external URL policies using "externalUrl.policy" setting in kibana.yml.');case 4:return _context2.abrupt("return",url);case 5:case"end":return _context2.stop()}}),_callee2)})));return function(_x3,_x4){return _ref2.apply(this,arguments)}}());_defineProperty(this,"execute",function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(config,context){var url;return regeneratorRuntime.wrap((function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return _this.getHref(config,context);case 2:url=_context3.sent;if(!config.openInNewTab){_context3.next=7;break}window.open(url,"_blank","noopener");_context3.next=9;break;case 7:_context3.next=9;return _this.deps.navigateToUrl(url);case 9:case"end":return _context3.stop()}}),_callee3)})));return function(_x5,_x6){return _ref3.apply(this,arguments)}}());_defineProperty(this,"getRuntimeVariables",context=>_objectSpread(_objectSpread({},this.deps.getGlobalScope()),{},{context:{panel:getPanelVariables(context)},event:getEventScope(context)}));_defineProperty(this,"getVariableList",context=>{const eventVariables=getEventVariableList(context);const contextVariables=Object.keys(Object(target["getFlattenedObject"])(getPanelVariables(context))).map(key=>"context.panel."+key);const globalVariables=Object.keys(Object(target["getFlattenedObject"])(this.deps.getGlobalScope()));return[...eventVariables.sort(),...contextVariables.sort(),...globalVariables.sort()]})}supportedTriggers(){return[uiActions_public_["VALUE_CLICK_TRIGGER"],uiActions_public_["SELECT_RANGE_TRIGGER"],uiActions_public_["ROW_CLICK_TRIGGER"],embeddable_public_["CONTEXT_MENU_TRIGGER"]]}buildUrl(config,context){const url=Object(public_["urlDrilldownCompileUrl"])(config.url.template,this.getRuntimeVariables(context));return url}}var kibanaUtils_public_=__webpack_require__(8);class plugin_UrlDrilldownPlugin{constructor(context){this.context=context}setup(core,plugins){const startServices=Object(kibanaUtils_public_["createStartServicesGetter"])(core.getStartServices);plugins.uiActionsEnhanced.registerDrilldown(new url_drilldown_UrlDrilldown({externalUrl:core.http.externalUrl,getGlobalScope:Object(public_["urlDrilldownGlobalScopeProvider"])({core:core}),navigateToUrl:url=>core.getStartServices().then(([{application:application}])=>application.navigateToUrl(url)),getSyntaxHelpDocsLink:()=>startServices().core.docLinks.links.dashboard.urlDrilldownTemplateSyntax,getVariablesHelpDocsLink:()=>startServices().core.docLinks.links.dashboard.urlDrilldownVariables}));return{}}start(core,plugins){return{}}stop(){}}function public_plugin(context){return new plugin_UrlDrilldownPlugin(context)}}]);